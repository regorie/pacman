2022.07.18

<작성할 내용>
1. 연합학습의 개념
              (1) 연합학습의 등장 배경
              (2) 연하학습 소개
              (3) 연합학습의 원리와 학습 과정
              (4) 연합학습의 특징
              (5) 연합학습 알고리즘
              (6) 연합학습의 지금까지의 연구 (문제점과 해결 방안/시도)
              (7) 연합학습 프레임워크

2. Flower 연합학습 Framework
              (1) 프레임워크에 대한 소개
              (2) 프레임워크의 구성 및 구조와 적용 방법
              (3) 프레임워크의 적용 방법 예시 (PyTorch로 구현한 CIFAR10 모델)
              (4) 프레임워크의 적용예시 (현재까지 구현된 내용. Summit 내용 정리)

3. Peer-to-peer Learning

4. Edge-consensus Learning

==========================================================================================

1. 연합학습의 개념


(1) 연합학습의 등장 배경
https://arxiv.org/pdf/1602.05629v2.pdf

모바일 기기의 사용이 증가하고 성능이 향상됨에 따라, 인공지능 학습을 통해 사용자의 편의를 증대할 수 있는 데이터가 이러한 기기에 축적되고 있다.
그러나 이러한 데이터는 개인정보 보호 문제 또는 방대한 양의 데이터를 학습 서버로 전송하는 것에 대한 어려움 등으로 인공지능 학습에 활용하는 데에 제한이 존재한다.
연합학습은 이러한 문제점을 해결하고자 등장하였다.


(2) 연합학습 소개 
https://arxiv.org/pdf/1912.04977.pdf p.4

연합학습은 클라이언트(모바일 기기 등)의 데이터를 서버로 전송하지 않고 개개의 클라이언트에서 학습되는 모델(local model)을 
서버가 취합하여 평균 가중치를 적용한 모델(global model/shared model)을 학습시키고 다시 클라이언트로 배포하는 과정을 거친다.

여기서 중앙 서버가 존재하는 학습 방법을 federated learning이라고 하고, 서버가 없는 경우 fully decentralized learning(peer-to-peer learning)로 구분한다.

연합학습은 크게 cross-silo와 cross-device로 나뉜다.
두 방식 모두 클라이언트의 데이터가 공유되지 않으며 중앙 서버가 존재한다.
Cross-silo의 클라이언트는 주로 규모가 큰 조직이나 데이터센터이고, Cross-device의 클라이언트는 모바일 기기 또는 Iot 기기이다.
Cross-deivce는 클라이언트의 수가 굉장히 많으며, 클라이언트와 서버 사이의 느린 통신 속도가 주된 저해 요인이 될 수 있다.


(3) 연합학습의 원리와 학습과정
https://arxiv.org/pdf/1912.04977.pdf p.8

연합 학습의 한 라운드(round)는 다음과 같은 단계로 이루어진다.
1. Client selection
              서버는 학습에 참여할 클라이언트를 선별한다.
2. Broadcast
              서버는 기존의 global 모델을 선별한 클라이언트로 전송한다.
3. Client computation
              each loss function, SGD locally, in parallel
              각각의 클라이언트는 각자의 데이터와 global 모델을 기반으로 local 모델을 학습하여 loss 값을 도출한다.
              이 단계는 병렬적으로 진행된다.
4. Aggregation
              Clients send local updates to server(their own model, or difference between local model and broadcasted global model), server aggregates
              클라이언트가 학습한 값(local 모델의 매개변수 또는 local 모델과 global 모델의 차이)을 서버로 전송하면, 서버는 전송받은 결과값을 취합한다.
5. Model update
              Global model update
              서버는 취합한 결과를 이용하여 optimization을 통해 global 모델을 업데이트한다.


(4) 연합학습의 특징
https://arxiv.org/pdf/1912.04977.pdf p.6
클라이언트의 데이터는 공유되지 않으며, 로컬 저장소에 머무른다.

https://arxiv.org/pdf/1602.05629v2.pdf
FL 최적화는 일반적인 분산 최적화와 구분되는 특징이 있다.
• non-iid : 특정 클라이언트에 대한 훈련 데이터는 일반적으로 특정 사용자의 모바일 장치 사용에 기초하므로, 특정 사용자의 로컬 데이터 세트는 모집단 분포를 나타내지 않을 것이다.
• unbalanced : 일부 사용자는 다른 사용자보다 훨씬 더 많은 서비스 또는 앱을 사용하여 다양한 양의 로컬 교육 데이터로 이어질 수 있다.
• massively distributed : 최적화에 참여하는 클라이언트 수가 클라이언트 당 평균 예제 수보다 훨씬 많을 것으로 예상된다.
• limited communication : 모바일 기기는 자주 오프라인 상태이거나 느리거나 비용이 많이 드는 연결 상태에 있다.


(5) 연합학습 알고리즘
https://arxiv.org/pdf/1602.05629v2.pdf

[연합학습 optimization 수식]

1. FedSGD

2. FedAVG

3. FedProx : https://arxiv.org/pdf/1812.06127.pdf

4. FedBN : https://github.com/med-air/FedBN / https://openreview.net/pdf?id=6YEQUn0QICG

5. FedAdagrad, FedYogi/FedAdam : https://arxiv.org/pdf/2003.00295.pdf

6. Decentralized Federated Averaging : https://arxiv.org/pdf/2104.11375.pdf

7. SCAFFOLD : https://arxiv.org/pdf/1910.06378.pdf

(6) 연합학습의 지금까지의 연구 (문제점과 해결 방안 및 시도)

1. Client Drift

2. Communication bottleneck
              - Communication Compression 
              Cooperative SGD : https://arxiv.org/pdf/1808.07576.pdf

3. Data leakage and privacy problems
https://ieeexplore.ieee.org/document/9069945
Data Leakage in Federated Averaging : https://arxiv.org/pdf/2206.12395.pdf

4. Implementing in large scale


(7) 연합학습 프레임워크
https://www.dbpia.co.kr/pdf/pdfView.do?nodeId=NODE10583454
- TensorFlow Federated (TFF) (Google)
- PySyft (OpenMined)
- FATE (Federated AI Tecknology Enabler Framework) (Webank)

https://arxiv.org/pdf/1912.04977.pdf p.118
-TensorFlow Federated
-FedML
-PySyft
-Leaf
-Sherpa.ai Federated Learning and Differential Privacy Framework
-PyVertical

production oriented
-FATE
-PaddleFL
-Clara Training Framework
-IBM Federated Learning
-Flower Framework
-Fedlearner


==========================================================================================

2. Flower 연합학습 Framework


(1) 프레임워크에 대한 소개


(2) 프레임워크의 구성 및 구조와 적용 방법
              - 오픈소스 요약
              - FLower Framework API

(3) 프레임워크의 적용 방법 예시 (PyTorch로 구현한 CIFAR10 모델)


(4) 프레임워크의 적용예시 (현재까지 구현된 내용. Summit 내용 정리)
              - Android에서 Flower 사용
